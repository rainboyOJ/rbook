## 题目2: 最大子序和


核心思想: **截断**

https://www.acwing.com/problem/content/137/


根据`[[缩小放大法]]`

情况1: 所有的数都是正数,变成区间和问题,可以使用前缀和来解

情况2: 不限制M或M很大超过了N,那么就成`最大连续区间和问题`,可以使用DP. 对应题目: `luogu-P1115`

思考🤔一下能不能用DP解这个题目呢?简单的想一个,不能,应该需要记录长度信息,$f(i,j)$表示以$i$结尾的子序列前j个元素的和,这样时间变成了$n \times m$,超时了.


按通常的思路来,静态区间和转成对就的前缀和数组上的两个数想减,设$S[i]$表示前$i$个元素的和,那么区间$[l,r]$的和,就是$s[r]-s[l-1]$.

那么这个问题就转化为:

$$
f(i) = \max_{j=i-M}^{i-1}\{ S[i] - S[j-1] \} \\
$$

以因为$S[i]$不需要动,是一个定值
$$
f(i) = S[i] - \min_{j=i-M}^{i-1}\{S[j-1] \} \\
$$

问题转化成,固定区间最小值: 当$i$固定时,求$j \in [i-m,i-1]$中,使得$S[j-1]$最小的$j$.

那这个问题就成成了`[[../滑动窗口]]`问题.

```cpp
<%- include("./acw_135.cpp")%>
```
