题目

TODO

本题是建立在序列上一个题目.

什么是序列?

根据[序列 - 维基百科，自由的百科全书](https://zh.wikipedia.org/wiki/%E5%BA%8F%E5%88%97)的定义，序列定义在集合上的一个函数$f:\mathbb{N} \rightarrow S$，而函数是定义在集合上的一种特殊二元关系。可以直观的把序列理解成排成一列的数。

## 暴力想法
根据前面所学的集合的知识，设集合为$S = \{a_1,a_2,\cdots,a_n\}$,设问题:在集合$S$上的$Lis$的值,表示为$f(S)$,

设序列$Q = a_1,a_2,\cdots,a_n$,表示原序列.

设$Q$的子序列表示为$q_i$

那么$q_i$具体是什么呢?

设$Q = 1,2,3$时,那么,如下的列表


$$
\begin{array}{cccc}
i & bin(i) & \text{subsequec} \\
\hline \\
p_0 & 000 & \varnothing \\
p_1 & 001 & 1 \\
p_2 & 010 & 2\\
p_3 & 011 & 1,2\\
p_4 & 100 & 3 \\
p_5 & 101 & 1,3\\
p_6 & 110 & 2,3\\
p_7 & 111 & 1,2,3\\
\end{array}
$$

于是得知子序列$p_i$里的元素与下标$i$对应的二进制$bin(i)$有关:

- 如果$bin(i)$第$j$位为$0$,表示子序列$p_i$不含有$a_{j+1}$
- 如果$bin(i)$第$j$位为$1$,表示子序列$p_i$含有$a_{j+1}$


数学表示为

$$
p_i = [a_j \mid i \& (1\ll(j-1)) = 1]
$$

设$P$表示子序列$p_i$组成的集合$P = \{p_0,p_1,\cdots p_{2^n}\}$,n表示$Q$的元素的个数

序列是定义在集合上的一个函数

函数是一种特殊的二元关系

显然答案是

$$
ans = max\{ len(p) \mid p \in P \land isLis(p) \} \tag 1
$$

根据上面的式子$(1)$写出一个暴力求子集然后判断是否是Lis的代码,即可.


也就是集合$S$的所有子集$x$组合的集合$P(S) = \{x | x \subseteq S\}$,$P(S)$叫做集合$S$的幂集.

显然集合$x$是有
对子集$x$进行编码,

## 小朋友法

原问题,设序列为$s$,求序列$s$上的$LIS$的值,表示$G(s)$

把这个问题转化为$f(i)$:第$i$个元素为结尾的$LIS$的值

$$
G(s) = max(f(1),f(2),\cdots,f(n))
$$

这样就转化成了求$f(i)$问题,如何求呢,

显然

$$
f(i) = max(1,f(j)+1) \; j < i \land a_j < a_i
$$

于是写一个两重循环可以解

## 集合想法

设$x \in P(S)$

```math
g(x) = \left\{
    \begin{aligned}
        &\vert x \vert & x 各个元素是符合Lis的\\
        &0 & \text{如果$x$是空集}\\
    \end{aligned}
\right. 
```


根据集合分类的思想,考虑是后一个元素,要么包含最后一个元素$a_n$,要么不包含



那么问

```math
f(S) =
\left\{
    \begin{aligned}
        &f(S-\{a_n\}) &\text{不包含$a_n$}\\
        &g(S,a_n) & \text{包含$a_n$}
    \end{aligned}
\right.
```

显然$f(S)$分解成了一子问题$g(S,a_n)$与原问题不相似,连参数都不一样,这不一种好的分解子问题的方式,或集合分类方式.但这启发了我们.

为了方法,我们用数字来表示集合,如$4$,就是表示前$4$个元素表示的集合$\{a_1,a_2,a_3,a_4\}$

显然,可以用$g(n,a_n)$来表示前$n$个元素组成的集合,且一定含有的$a_n$最为最后一个元素的$lis$的值

那么

$$
g(n,a_n) = max(\{g(i,a_i) \big\vert i \leqslant n \land a_i \leqslant a_n \}) +1
$$

$g(n,a_n)$的答案,就是符合条件的子集合组成的集合的最值加$1$,成功建立起和子集合之间的关联

$$
f(S) = max(\{g(i,a_i) \big\vert i \in [1,n]\})
$$

建立起了最终问题与$g$的关联.



## 练习题目

<%- include("practice.md") %>